<ContentDialog
    x:Class="Monica.Windows.Dialogs.AddPasswordDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="添加密码"
    PrimaryButtonText="保存"
    CloseButtonText="取消"
    DefaultButton="Primary"
    PrimaryButtonClick="ContentDialog_PrimaryButtonClick">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Spacing="16" MinWidth="400">
            <TextBox x:Name="TitleInput" Header="标题" PlaceholderText="例如: Gmail"/>
            <TextBox x:Name="WebsiteInput" Header="网站" PlaceholderText="https://example.com"/>
            <TextBox x:Name="UsernameInput" Header="用户名/邮箱" PlaceholderText="user@example.com"/>
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <PasswordBox x:Name="PasswordInput" Header="密码" PlaceholderText="输入密码" PasswordRevealMode="Peek"/>
                <Button Grid.Column="1" Content="生成" Click="GeneratePassword_Click" VerticalAlignment="Bottom" Margin="8,0,0,0"/>
            </Grid>
            
            <TextBox x:Name="NotesInput" Header="备注" PlaceholderText="可选备注..." 
                     AcceptsReturn="True" TextWrapping="Wrap" Height="80"/>
            
            <TextBox x:Name="AuthenticatorKeyInput" Header="验证码密钥 (可选)" 
                     PlaceholderText="输入密钥以自动创建验证器"
                     ToolTipService.ToolTip="如果您有TOTP密钥，可以在这里输入，保存后会自动创建对应的验证器"/>
            
            <TextBlock x:Name="ErrorText" Foreground="{ThemeResource SystemFillColorCriticalBrush}" 
                       Visibility="Collapsed" TextWrapping="Wrap"/>
        </StackPanel>
    </ScrollViewer>
</ContentDialog>
